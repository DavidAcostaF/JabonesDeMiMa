{% extends "base.html" %}

{% block content %}
<div class="col" style="text-align: center;">
    <h1 style="background: #529c43;color: #ffffff;text-align: center;font-family: 'Lexend Deca', sans-serif;padding: 30px;border-radius: 15px;margin-top: 15px;margin-right: 35px;margin-left: 25px;font-size: 30px;">Detalles</h1>
    
    <div style="border-top: 1px solid #529c43 ;border-bottom: 1px solid #529c43 ;">
        <p style="text-align: left;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;margin-bottom: 0px;margin-right: 35px;">Folio de la venta: {{ sale.receipt_folio }}</p>
        <p style="text-align: left;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;background: #e3f5df;margin-right: 35px;margin-bottom: 0px;">Fecha: {{ sale.date|date:"d/m/Y" }}</p>
        <p style="text-align: left;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;margin-bottom: 0px;margin-right: 35px;">Nombre: {{ sale.client }}</p>
        <p style="text-align: left;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;background: #e3f5df;margin-right: 35px;margin-bottom: 0px;">Dirección envío: {{ sale.address }}</p>
        <p style="text-align: left;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;margin-bottom: 0px;margin-right: 35px;">Estatus: {{ sale.status }}</p>
    </div>

    <div style="border-bottom: 1px solid #529c43 ;">
        <p class="fw-lighter" style="background: #529c43;text-align: center;font-family: Inter, sans-serif;font-size: 25px;color: #ffffff;padding: 15px;border-radius: 15px;margin-left: 25px;margin-right: 35px;margin-top: 20px;">Detalles</p>
        <div class="table-responsive" style="padding: 30px;padding-top: 0px;padding-bottom: 4px;">
            <table class="table">
                <thead>
                    <tr>
                        <th class="fw-normal" style="background: #529c43;font-family: Inter, sans-serif;color: #ffffff;border-radius: 10px;font-size: 20px;text-align: center;padding: 20px;">Cantidad</th>
                        <th class="fw-normal" style="background: #529c43;font-family: Inter, sans-serif;color: #ffffff;border-radius: 10px;font-size: 20px;text-align: center;padding: 20px;">Nombre del Producto</th>
                        <th class="fw-normal" style="background: #529c43;font-family: Inter, sans-serif;color: #ffffff;border-radius: 10px;font-size: 20px;text-align: center;padding: 20px;">Precio Unitario</th>
                        <th class="fw-normal" style="background: #529c43;font-family: Inter, sans-serif;color: #ffffff;border-radius: 10px;font-size: 20px;text-align: center;padding: 20px;">Monto</th>
                    </tr>
                </thead>
                <tbody>
                    {% for detail in sale.saledetail_set.all %}
                    <tr>
                        <td style="background: #f1f1f1;border-radius: 15px;font-family: Inter, sans-serif;padding: 20px;text-align: center;">{{ detail.amount }}</td>
                        <td style="background: #f1f1f1;border-radius: 15px;font-family: Inter, sans-serif;padding: 20px;text-align: center;">{{ detail.product.name }}</td>
                        <td style="background: #f1f1f1;border-radius: 15px;font-family: Inter, sans-serif;text-align: right;padding: 20px;">{{ detail.unit_price }}</td>
                        <td style="background: #f1f1f1;border-radius: 15px;font-family: Inter, sans-serif;text-align: right;padding: 20px;">{{ detail.total_price }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div>
        <p style="text-align: right;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;margin-right: 35px;">Subtotal: {{ subtotal|floatformat:2 }}</p>
        <p style="text-align: right;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;background: #e3f5df;margin-right: 35px;">IVA: {{ iva|floatformat:2 }}</p>
        <p style="text-align: right;font-size: 27px;color: #529c43;font-family: 'Lexend Deca', sans-serif;margin-left: 25px;padding: 15px;margin-right: 35px;">Total: {{ total|floatformat:2 }}</p>
    </div>

    <a href="{% url 'sales:index' %}" class="btn btn-primary" style="background: #529c43;border-radius: 15px;padding: 15px;font-size: 24px;font-family: 'Lexend Deca', sans-serif;width: 300px;margin-left: 10px;text-align: center;border-style: none;margin-bottom: 15px;">Volver</a>
</div>
{% endblock %}
